{% assign tags_raw = include.tags | object_items | join: "," | split: "," | array_filter %}
{% assign tags = tags_raw | uniq %}
{% assign link = include.link | default: page.dir %}
{% if tags.size > 0 or include.repo %}
  <div
    class="tags"
    {% if include.repo %}
      data-repo="{{ include.repo | xml_escape }}"
    {% endif %}
  >
    {% for tag in tags %}
      {% assign tag_norm = tag | downcase | regex_replace: "\s+", "-" %}
      <a
        href="{{ link | relative_url }}?search=&quot;tag: {{ tag_norm }}&quot;"
        class="tag"
        data-tooltip="Show items with the tag &quot;{{ tag }}&quot;"
      >
        {{ tag }}
      </a>
    {% endfor %}
  </div>
{% endif %}
